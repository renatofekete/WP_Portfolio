"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Search=function(){function e(){_classCallCheck(this,e),this.input=document.querySelector("#search-bar"),this.output=document.querySelector(".search-results"),this.loader=document.querySelector(".search-bar__loader"),this.closeBtn=document.querySelector(".search-bar__close"),this.searchBtn=document.querySelector(".search__icon"),this.searchOverlay=document.querySelector(".search-overlay"),this.body=document.querySelector("body"),this.typingTimer,this.events()}return _createClass(e,[{key:"events",value:function(){this.searchBtn&&(this.input.addEventListener("input",this.displayResults.bind(this)),this.closeBtn.addEventListener("click",this.closeOverlay.bind(this)),this.searchBtn.addEventListener("click",this.openOverlay.bind(this)))}},{key:"openOverlay",value:function(){var e=this;this.searchOverlay.classList.add("search-overlay--visible"),this.body.style.overflow="hidden",this.input.removeAttribute("disabled"),setTimeout(function(){return e.input.focus()},600)}},{key:"closeOverlay",value:function(){this.input.blur(),this.input.setAttribute("disabled","disabled"),this.searchOverlay.classList.remove("search-overlay--visible"),this.body.style.overflow="auto",this.input.value="",this.output.innerHTML=""}},{key:"displayResults",value:function(){clearTimeout(this.typingTimer),this.typingTimer=setTimeout(this.getData.bind(this),200)}},{key:"getData",value:function(){var t=this,e=this.input.value;this.input.value.length<3?(this.loader.style.opacity="0",this.output.innerHTML=""):(this.loader.style.opacity="1",fetch("https://renatofekete.com/wp-json/wp/v2/posts?search=".concat(e,"&per_page=5")).then(function(e){return e.json()}).then(function(e){t.loader.style.opacity="0",t.output.innerHTML="",e.map(function(e){return t.output.innerHTML+='\n            <h3><a href="'.concat(e.link,'">').concat(e.title.rendered,"</a></h4>")})}))}}]),e}(),MobileMenu=function(){function e(){_classCallCheck(this,e),this.hamburger=document.querySelector(".hamburger__menu"),this.menu=document.querySelector(".navigation__menu"),this.closeBtn=document.querySelector(".navigation__menu-close"),this.events()}return _createClass(e,[{key:"events",value:function(){this.hamburger&&(this.hamburger.addEventListener("click",this.openMenu.bind(this)),this.closeBtn.addEventListener("click",this.closeMenu.bind(this)))}},{key:"openMenu",value:function(){this.menu.style.display="flex"}},{key:"closeMenu",value:function(){this.menu.style.display="none"}}]),e}(),search=new Search,mobileMenu=new MobileMenu;